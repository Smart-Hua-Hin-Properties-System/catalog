<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>HUAHIN.PROPERTIES | SMART CATALOG</title>

  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{
      --primary:#1a5276;
      --bg:#9CBCE3;
      --white:#ffffff;
      --badge-navy:#154360;
      --shadow: 0 15px 35px rgba(0,0,0,0.10);
    }

    html,body{
      font-family:'Kanit',sans-serif;
      background:var(--bg);
      margin:0;
      padding:0;
      overflow-x:hidden;
      width:100%;
    }
    *{ box-sizing:border-box; }

    /* Loader */
    #loader{
      position:fixed;
      inset:0;
      background:var(--bg);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:9999;
    }
    #loader .wrap{
      text-align:center;
      color:#fff;
      font-weight:900;
      letter-spacing:0.5px;
    }
    #loader .emo{ font-size:56px; margin-bottom:10px; }

    /* Header (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2) */
    header{
      background:#fff;
      padding:12px 15px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      position:sticky;
      top:0;
      z-index:1000;
      box-shadow:0 2px 10px rgba(0,0,0,0.10);
    }
    .header-left{
      display:flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
      color:var(--primary);
      min-width:90px;
    }
    .header-left .txt{
      font-size:0.85rem;
      font-weight:500;
      margin-left:5px;
    }
    .brand-center{
      font-weight:900;
      color:var(--primary);
      font-size:1.05rem;
      letter-spacing:-0.5px;
      text-transform:uppercase;
      text-align:center;
      flex:1;
    }
    .flag-list{
      display:flex;
      gap:5px;
      align-items:center;
      justify-content:flex-end;
      min-width:90px;
    }
    .flag-btn{
      border:none;
      background:none;
      padding:0;
      cursor:pointer;
      transition:0.2s;
    }
    .flag-btn:hover{ transform:scale(1.05); }
    .flag-btn img{
      width:24px;
      height:16px;
      border-radius:2px;
      box-shadow:0 1px 3px rgba(0,0,0,0.12);
      display:block;
    }

    /* Filter Area (4 ‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2) */
    .filter-area{
      padding:15px;
      width:100%;
      max-width:1200px;
      margin:0 auto;
    }
    .filter-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      background:rgba(255,255,255,0.92);
      padding:15px;
      border-radius:25px;
      box-shadow:0 8px 20px rgba(0,0,0,0.05);
    }
    @media (min-width: 768px){
      .filter-grid{ grid-template-columns:repeat(4, 1fr); }
    }
    .select-box{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid #ddd;
      font-family:'Kanit',sans-serif;
      color:var(--primary);
      font-size:0.90rem;
      background:#fff;
      outline:none;
    }

    /* Cards Layout (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2) */
    .property-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));
      gap:20px;
      padding:0 15px 40px;
      max-width:1200px;
      margin:0 auto;
    }
    .card{
      background:var(--white);
      border-radius:40px;
      overflow:hidden;
      position:relative;
      box-shadow:var(--shadow);
      transition:transform .15s ease, box-shadow .15s ease;
    }
    .card:hover{
      transform:translateY(-2px);
      box-shadow:0 18px 40px rgba(0,0,0,0.12);
    }

    /* HP-ID badge ‡∏ö‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ */
    .badge-hp{
      position:absolute;
      top:15px;
      left:15px;
      background:var(--badge-navy);
      color:#fff;
      padding:6px 14px;
      border-radius:10px;
      font-size:0.78rem;
      font-weight:600;
      z-index:10;
    }

    .card-img{
      width:100%;
      height:350px;
      object-fit:cover;
      background:#e9e9e9;
      display:block;
    }
    .card-body{
      padding:25px;
      text-align:left;
    }
    .house-id-text{
      font-size:1.9rem;
      font-weight:900;
      color:var(--primary);
      margin-bottom:2px;
      text-transform:uppercase;
      line-height:1.05;
    }
    .project-name{
      font-size:0.85rem;
      color:#888;
      margin-bottom:12px;
      font-weight:500;
      text-transform:uppercase;
    }
    .price-text{
      font-size:1.7rem;
      color:var(--primary);
      font-weight:800;
      margin-bottom:15px;
      display:block;
    }
    .btn-detail{
      display:block;
      width:100%;
      padding:14px;
      background:var(--primary);
      color:#fff;
      text-align:center;
      border-radius:50px;
      text-decoration:none;
      font-weight:600;
      user-select:none;
    }

    /* Empty state */
    .empty{
      max-width:1200px;
      margin:10px auto 30px;
      padding:0 15px;
      color:#fff;
      font-weight:600;
      opacity:0.9;
    }
  </style>
</head>

<body>
  <div id="loader">
    <div class="wrap">
      <div class="emo">üè† ‚ú® üå¥</div>
      <div>SMART PROPERTIES...</div>
    </div>
  </div>

  <header>
    <div class="header-left" onclick="void(0)">
      <i class="fas fa-bars fa-lg"></i>
      <span class="txt" id="txtMenu">‡πÄ‡∏°‡∏ô‡∏π</span>
    </div>

    <div class="brand-center">HUAHIN.PROPERTIES</div>

    <div class="flag-list">
      <button class="flag-btn" onclick="setLanguage('th')" title="‡πÑ‡∏ó‡∏¢"><img src="https://flagcdn.com/w40/th.png" alt="TH"></button>
      <button class="flag-btn" onclick="setLanguage('en')" title="English"><img src="https://flagcdn.com/w40/us.png" alt="US"></button>
      <button class="flag-btn" onclick="setLanguage('cn')" title="‰∏≠Êñá"><img src="https://flagcdn.com/w40/cn.png" alt="CN"></button>
      <button class="flag-btn" onclick="setLanguage('ru')" title="–†—É—Å—Å–∫–∏–π"><img src="https://flagcdn.com/w40/ru.png" alt="RU"></button>
      <button class="flag-btn" onclick="setLanguage('de')" title="Deutsch"><img src="https://flagcdn.com/w40/de.png" alt="DE"></button>
      <button class="flag-btn" onclick="setLanguage('fr')" title="Fran√ßais"><img src="https://flagcdn.com/w40/fr.png" alt="FR"></button>
    </div>
  </header>

  <div class="filter-area">
    <div class="filter-grid">
      <select class="select-box" id="distFilter" onchange="updateSubDistricts()">
        <option value="" data-lang="fDist">üìç ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
      </select>

      <select class="select-box" id="subDistFilter" onchange="applyFilters()">
        <option value="" data-lang="fSub">üèòÔ∏è ‡∏ï‡∏≥‡∏ö‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
      </select>

      <select class="select-box" id="bedFilter" onchange="applyFilters()">
        <option value="" data-lang="fBed">üõå ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4+</option>
      </select>

      <select class="select-box" id="priceSort" onchange="applyFilters()">
        <option value="" data-lang="fPrice">üí∞ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤</option>
        <option value="low" data-lang="pLow">‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ‡∏°‡∏≤‡∏Å</option>
        <option value="high" data-lang="pHigh">‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢</option>
      </select>
    </div>
  </div>

  <div class="empty" id="emptyBox" style="display:none;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>
  <div class="property-grid" id="grid"></div>

  <script>
    /* ‚úÖ ‡πÉ‡∏ä‡πâ API ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì */
    const api = "https://script.google.com/macros/s/AKfycbyS8rGtSnhVS8RdWje7icXZVCw5iBBJoWkEpOYm649OC6FOhnrVi87dD9GsJl_m_FVw/exec";

    let allData = [];
    let currentLang = localStorage.getItem("smartLang") || "th";

    const i18n = {
      th: {
        menu: "‡πÄ‡∏°‡∏ô‡∏π",
        fDist: "üìç ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
        fSub: "üèòÔ∏è ‡∏ï‡∏≥‡∏ö‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
        fBed: "üõå ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
        fPrice: "üí∞ ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤",
        pLow: "‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ‡∏°‡∏≤‡∏Å",
        pHigh: "‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢",
        view: "‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î",
        empty: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç"
      },
      en: {
        menu: "MENU",
        fDist: "üìç All Districts",
        fSub: "üèòÔ∏è All Sub-districts",
        fBed: "üõå Bedrooms",
        fPrice: "üí∞ Sort by Price",
        pLow: "Low to High",
        pHigh: "High to Low",
        view: "View Details",
        empty: "No results found."
      },
      cn: { menu:"ËèúÂçï", fDist:"üìç ÊâÄÊúâÂå∫Âüü", fSub:"üèòÔ∏è ÊâÄÊúâÂàÜÂå∫", fBed:"üõå ÂçßÂÆ§", fPrice:"üí∞ ‰ª∑Ê†ºÊéíÂ∫è", pLow:"‰ªé‰ΩéÂà∞È´ò", pHigh:"‰ªéÈ´òÂà∞‰Ωé", view:"Êü•ÁúãËØ¶ÊÉÖ", empty:"Êú™ÊâæÂà∞ÁªìÊûú" },
      ru: { menu:"–ú–ï–ù–Æ", fDist:"üìç –í—Å–µ —Ä–∞–π–æ–Ω—ã", fSub:"üèòÔ∏è –í—Å–µ –ø–æ–¥—Ä–∞–π–æ–Ω—ã", fBed:"üõå –°–ø–∞–ª—å–Ω–∏", fPrice:"üí∞ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞", pLow:"–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é", pHigh:"–ü–æ —É–±—ã–≤–∞–Ω–∏—é", view:"–ü–æ–¥—Ä–æ–±–Ω–µ–µ", empty:"–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" },
      de: { menu:"MEN√ú", fDist:"üìç Alle Bezirke", fSub:"üèòÔ∏è Alle Ortsteile", fBed:"üõå Schlafzimmer", fPrice:"üí∞ Sortieren", pLow:"Aufsteigend", pHigh:"Absteigend", view:"Details", empty:"Keine Ergebnisse" },
      fr: { menu:"MENU", fDist:"üìç Tous les districts", fSub:"üèòÔ∏è Tous les quartiers", fBed:"üõå Chambres", fPrice:"üí∞ Trier par prix", pLow:"Croissant", pHigh:"D√©croissant", view:"Voir d√©tails", empty:"Aucun r√©sultat" }
    };

    /* ‚úÖ ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏π‡∏õ‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå Google Drive ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö) */
    function normalizeImageUrl(url) {
      if (!url) return "";
      const u = String(url).trim();

      // already good (lh3)
      if (u.includes("https://lh3.googleusercontent.com/d/")) return u;

      // fileId from various drive formats
      let fileId = "";

      try {
        if (u.includes("id=")) {
          fileId = u.split("id=")[1].split("&")[0];
        } else if (u.includes("/file/d/")) {
          fileId = u.split("/file/d/")[1].split("/")[0];
        } else if (u.includes("drive.google.com/open?")) {
          // handled by id= above usually
        } else if (u.includes("drive.google.com/uc?export=view")) {
          // uc?export=view&id=...
          if (u.includes("id=")) fileId = u.split("id=")[1].split("&")[0];
        }
      } catch (e) {}

      if (fileId) return "https://lh3.googleusercontent.com/d/" + fileId;
      return u; // fallback (maybe already direct image)
    }

    function safeText(v) {
      return String(v ?? "").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;");
    }

    function num(v){
      const n = Number(String(v ?? "").toString().replace(/[, ]+/g,""));
      return isNaN(n) ? 0 : n;
    }

    function setLanguage(l) {
      currentLang = l;
      localStorage.setItem("smartLang", l);

      const t = i18n[l] || i18n.en;

      document.getElementById("txtMenu").innerText = t.menu;
      document.querySelectorAll("[data-lang]").forEach(el => {
        const k = el.getAttribute("data-lang");
        if (t[k]) el.innerText = t[k];
      });

      // reset labels for subdistrict default option (‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏•‡∏±‡∏á innerHTML)
      updateSubDistricts(true);
      applyFilters();
    }

    function fillDistrictOptions(){
      const distSel = document.getElementById("distFilter");
      const current = distSel.value;

      const districts = [...new Set(allData.map(x => x.District).filter(Boolean))].sort((a,b)=>String(a).localeCompare(String(b)));
      distSel.innerHTML = `<option value="" data-lang="fDist">üìç ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>` + districts.map(d => `<option value="${safeText(d)}">${safeText(d)}</option>`).join("");

      // restore if still exists
      if (current && districts.includes(current)) distSel.value = current;
    }

    function updateSubDistricts(skipApply=false) {
      const dist = document.getElementById("distFilter").value;
      const subSel = document.getElementById("subDistFilter");

      const t = i18n[currentLang] || i18n.en;

      subSel.innerHTML = `<option value="" data-lang="fSub">${t.fSub}</option>`;

      if (dist) {
        const subs = [...new Set(allData
          .filter(it => String(it.District||"") === String(dist))
          .map(it => it.SubDistrict)
          .filter(Boolean)
        )].sort((a,b)=>String(a).localeCompare(String(b)));

        subs.forEach(s => {
          subSel.innerHTML += `<option value="${safeText(s)}">${safeText(s)}</option>`;
        });
      }

      if (!skipApply) applyFilters();
    }

    function renderGrid(items) {
      const grid = document.getElementById("grid");
      const emptyBox = document.getElementById("emptyBox");
      const t = i18n[currentLang] || i18n.en;

      if (!items || items.length === 0) {
        grid.innerHTML = "";
        emptyBox.innerText = t.empty;
        emptyBox.style.display = "block";
        return;
      }
      emptyBox.style.display = "none";

      grid.innerHTML = items.map(it => {
        const hp = safeText(it.HP_ID || it.hp_id || "");
        const houseId = safeText(it.HOUSE_ID || it.ID || it.House_ID || "");
        const project = safeText(it.Project_Name || it.Project || "");
        const price = num(it.Price);
        const img = normalizeImageUrl(it.Thumbnail || it.Image || it.Photo || "");

        // ‚úÖ ‡∏õ‡∏∏‡πà‡∏° ‚Äú‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‚Äù + ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤ details.html?id=HP-xxxx ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°
        const link = `details.html?id=${encodeURIComponent(it.HP_ID || it.hp_id || "")}`;

        return `
          <div class="card">
            <div class="badge-hp">${hp || "-"}</div>
            <img class="card-img"
              src="${safeText(img)}"
              alt="${houseId}"
              onerror="this.onerror=null;this.src='https://placehold.co/600x800?text=SMART+PROPERTY';">
            <div class="card-body">
              <div class="house-id-text">${houseId || "-"}</div>
              <div class="project-name">${project || "-"}</div>
              <span class="price-text">‡∏ø${price.toLocaleString()}</span>
              <a class="btn-detail" href="${link}">${t.view}</a>
            </div>
          </div>
        `;
      }).join("");

      // ‚úÖ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ ‚Äú‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‚Äù ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢ (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ)
      grid.querySelectorAll(".card").forEach((cardEl, idx) => {
        const it = items[idx];
        const link = `details.html?id=${encodeURIComponent(it.HP_ID || it.hp_id || "")}`;
        const img = cardEl.querySelector("img.card-img");
        if (img) img.style.cursor = "pointer";
        if (img) img.addEventListener("click", () => window.location.href = link);
      });
    }

    function applyFilters() {
      let data = [...allData];

      const dist = document.getElementById("distFilter").value;
      const sub = document.getElementById("subDistFilter").value;
      const bed = document.getElementById("bedFilter").value;
      const sort = document.getElementById("priceSort").value;

      if (dist) data = data.filter(it => String(it.District||"") === String(dist));
      if (sub) data = data.filter(it => String(it.SubDistrict||"") === String(sub));

      if (bed) {
        const b = Number(bed);
        data = data.filter(it => {
          const bb = Number(it.Bedrooms || it.Bed || 0);
          if (b >= 4) return bb >= 4;
          return bb === b; // ‚úÖ ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏î‡∏µ‡πÄ‡∏î‡∏¥‡∏°: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 3 = 3 ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô
        });
      }

      if (sort === "low") data.sort((a,b) => num(a.Price) - num(b.Price));
      if (sort === "high") data.sort((a,b) => num(b.Price) - num(a.Price));

      renderGrid(data);
    }

    async function init() {
      try {
        // ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ö‡∏ö api ‡∏™‡πà‡∏á array ‡∏ï‡∏£‡∏á ‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢ field ‡∏≠‡∏∑‡πà‡∏ô
        const res = await fetch(`${api}?role=PUBLIC`, { cache: "no-store" });
        const payload = await res.json();

        let arr = [];
        if (Array.isArray(payload)) arr = payload;
        else if (Array.isArray(payload.data)) arr = payload.data;
        else if (Array.isArray(payload.items)) arr = payload.items;
        else arr = [];

        // ‚úÖ ‡∏Å‡∏±‡∏ô‡∏û‡∏±‡∏á: ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ HP_ID ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ details ‡πÑ‡∏î‡πâ
        allData = arr.filter(x => (x.HP_ID || x.hp_id));

        // ‡πÄ‡∏ï‡∏¥‡∏° option ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á
        fillDistrictOptions();

        // ‡∏ï‡∏±‡πâ‡∏á‡∏†‡∏≤‡∏©‡∏≤ + render
        setLanguage(currentLang);

        // ‡∏ã‡πà‡∏≠‡∏ô loader
        document.getElementById("loader").style.display = "none";
      } catch (e) {
        document.getElementById("loader").style.display = "none";
        document.getElementById("emptyBox").style.display = "block";
        document.getElementById("emptyBox").innerText = "Connection Error / ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
        console.error(e);
      }
    }

    window.onload = init;
  </script>
</body>
</html>
